<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é—œè¥¿ 5 å¤© 4 å¤œ</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="æ—¥æœ¬è¡Œ">
    <link rel="apple-touch-icon" href="https://img.icons8.com/color/180/torii.png">
    
    <style>
        /* é è¨­è®Šæ•¸ (å¤§é˜ªä¸»é¡Œ) */
        :root {
            --primary: #FF5252; /* å¤§é˜ªç´… */
            --primary-bg: #FFEBEE;
            --bg: #F5F5F7;
            --card-bg: #FFFFFF;
            --text: #1D1D1F;
            --sub-text: #86868B;
            --shadow: 0 4px 20px rgba(0,0,0,0.06);
            --radius: 20px;
        }

        /* äº¬éƒ½ä¸»é¡Œè®Šæ•¸ */
        body.theme-kyoto {
            --primary: #7E57C2; /* å¤éƒ½ç´« */
            --primary-bg: #EDE7F6;
        }

        /* ç¥æˆ¶ä¸»é¡Œè®Šæ•¸ */
        body.theme-kobe {
            --primary: #0288D1; /* æ¸¯ç£è— */
            --primary-bg: #E1F5FE;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            padding-bottom: 50px;
            -webkit-tap-highlight-color: transparent;
            transition: background-color 0.3s;
        }
        
        /* é ‚éƒ¨å°èˆªå€ */
        .header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            padding-top: env(safe-area-inset-top);
            transition: all 0.3s;
        }

        .title-bar {
            padding: 15px;
            text-align: center;
            font-weight: 800;
            font-size: 18px;
            color: var(--text);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .tabs {
            display: flex;
            overflow-x: auto;
            padding: 0 15px 15px 15px;
            scrollbar-width: none;
            gap: 10px;
        }
        .tabs::-webkit-scrollbar { display: none; }

        .tab {
            flex: 0 0 auto;
            padding: 10px 18px;
            border-radius: 25px;
            background: #F2F2F7;
            font-size: 14px;
            font-weight: 600;
            color: var(--sub-text);
            border: none;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        .tab.active {
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transform: scale(1.02);
        }

        /* å…§å®¹å€å¡Š */
        .content {
            padding: 20px;
            display: none;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .content.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* æ¨£å¼å„ªåŒ–å¡ç‰‡ */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius);
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.02);
            transition: transform 0.2s;
        }

        .card-header {
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
        }
        
        .card-header:active {
            background: #FAFAFA;
        }

        .card-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 700;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .location-icon {
            width: 36px;
            height: 36px;
            background: var(--primary-bg);
            color: var(--primary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: 0.3s;
        }

        .toggle-icon {
            font-size: 14px;
            color: #C7C7CC;
            transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        .card.expanded .toggle-icon {
            transform: rotate(180deg);
            color: var(--primary);
        }

        /* åœ°åœ–å€å¡Š */
        .map-wrapper {
            height: 0;
            overflow: hidden;
            transition: height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: #f5f5f7;
            position: relative;
        }
        
        .map-frame {
            width: 100%;
            height: 100%;
            border: 0;
            display: block;
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .map-wrapper.loaded .map-frame {
            opacity: 1;
        }

        /* è©³ç´°è¡Œç¨‹å…§å®¹ */
        .details {
            padding: 5px 20px 25px 20px;
        }

        .timeline-item {
            position: relative;
            padding-left: 24px;
            margin-top: 20px;
            border-left: 2px solid #F0F0F0;
        }
        
        .timeline-item:last-child {
            border-left: 2px solid transparent;
        }

        .timeline-dot {
            position: absolute;
            left: -6px;
            top: 0;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--primary);
            border: 2px solid white;
            box-shadow: 0 0 0 2px var(--primary-bg);
        }

        .time {
            font-size: 13px;
            font-weight: 700;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
            display: block;
        }

        .activity {
            font-size: 16px;
            line-height: 1.6;
            color: var(--text);
            font-weight: 500;
        }

        .transport-badge {
            display: inline-flex;
            align-items: center;
            background: #F2F2F7;
            color: #666;
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 8px;
            margin-top: 8px;
            font-weight: 600;
        }
        
        .note {
            margin-top: 10px;
            font-size: 13px;
            color: #666;
            background: var(--primary-bg);
            padding: 12px;
            border-radius: 12px;
            line-height: 1.5;
            display: flex;
            gap: 6px;
        }

        /* åº•éƒ¨è·³è½‰æŒ‰éˆ• */
        .app-link {
            display: block;
            text-align: center;
            background: white;
            padding: 12px;
            color: var(--primary);
            font-weight: 600;
            font-size: 13px;
            text-decoration: none;
            border-top: 1px solid #eee;
        }
    </style>
</head>
<body class="theme-osaka">

    <div class="header">
        <div class="title-bar">
            <span>ğŸ‡¯ğŸ‡µ é—œè¥¿ä¹‹æ—…</span>
        </div>
        <div class="tabs">
            <button class="tab active" onclick="switchTab('d1', 'osaka')">D1 å¤§é˜ª</button>
            <button class="tab" onclick="switchTab('d2', 'osaka')">D2 æ¢…ç”°</button>
            <button class="tab" onclick="switchTab('d3', 'kyoto')">D3 äº¬éƒ½</button>
            <button class="tab" onclick="switchTab('d4', 'kobe')">D4 ç¥æˆ¶</button>
            <button class="tab" onclick="switchTab('d5', 'osaka')">D5 å›ç¨‹</button>
        </div>
    </div>

    <div id="d1" class="content active">
        <div class="card" onclick="toggleMap(this, 'Kansai International Airport')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">âœˆï¸</div>
                    é—œè¥¿æ©Ÿå ´ & ç§»å‹•
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">09:30 - 11:00</span>
                    <span class="activity">é£›æ©ŸæŠµé” KIXï¼Œå…¥å¢ƒã€é ˜è¡Œæã€éæµ·é—œã€‚</span>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">11:00 - 12:40</span>
                    <span class="activity">è³¼è²· ICOCA å¡ï¼Œæ­ä¹˜ JR é—œç©ºå¿«é€Ÿå‰å¾€å¸‚å€ã€‚</span>
                    <div class="transport-badge">JR é—œç©ºå¿«é€Ÿ â†’ å¤§é˜ªç’°ç‹€ç·š</div>
                </div>
            </div>
            <a href="https://maps.google.com/?q=Kansai+International+Airport" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>

        <div class="card" onclick="toggleMap(this, 'Osaka Castle Park')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">ğŸ¯</div>
                    å¤§é˜ªåŸå…¬åœ’
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">13:30 - 16:00</span>
                    <span class="activity">å…¬åœ’æ•£æ­¥ï¼Œå¯ä¾é«”åŠ›æ±ºå®šæ˜¯å¦é€²å…¥å¤©å®ˆé–£ã€‚</span>
                    <div class="note">ğŸ’¡ å†¬å¤©é¢¨å¤§è¼ƒå†·ï¼Œå»ºè­°æˆ´å¸½å­æˆ–åœå·¾ä¿æš–ã€‚</div>
                </div>
            </div>
            <a href="https://maps.google.com/?q=Osaka+Castle+Park" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>

        <div class="card" onclick="toggleMap(this, 'Shinsaibashi-suji')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">ğŸ›ï¸</div>
                    å¿ƒé½‹æ©‹ & é“é “å €
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">16:30 - 19:30</span>
                    <span class="activity">å¿ƒé½‹æ©‹ç­‹å•†åº—è¡— (è—¥å¦ã€æœé£¾) èˆ‡ç¾åœ‹æ‘ã€‚</span>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">19:30 - 21:30</span>
                    <span class="activity">é“é “å €æ™šé¤ (ç« é­šç‡’ã€æ‹‰éºµ)ã€çœ‹è·‘è·‘äººçœ‹æ¿ã€‚</span>
                    <div class="note">âš ï¸ å‚æ™šäººæ½®çœ¾å¤šï¼Œè«‹æ³¨æ„èƒŒåŒ…è²¡ç‰©å®‰å…¨ã€‚</div>
                </div>
            </div>
            <a href="https://maps.google.com/?q=Dotonbori" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>
    </div>

    <div id="d2" class="content">
        <div class="card" onclick="toggleMap(this, 'Grand Front Osaka')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">ğŸ™ï¸</div>
                    æ¢…ç”°å•†åœˆ (ä¸ŠåŠå ´)
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">09:40 - 12:00</span>
                    <span class="activity">ç™¾è²¨å·¡ç¦®ï¼šé˜ªæ€¥ã€é˜ªç¥ã€å¤§ä¸¸æˆ– Yodobashi Cameraã€‚</span>
                    <div class="transport-badge">JR å¤§é˜ªç’°ç‹€ç·š: æ£®ä¹‹å®® â†’ å¤§é˜ª</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">12:00 - 13:30</span>
                    <span class="activity">æ¢…ç”°å‘¨é‚Šåˆé¤ (æ‹‰éºµã€å®šé£Ÿ)ã€‚</span>
                </div>
            </div>
            <a href="https://maps.google.com/?q=Grand+Front+Osaka" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>

        <div class="card" onclick="toggleMap(this, 'LUCUA Osaka')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">â˜•</div>
                    æ¢…ç”°æ·±åº¦è³¼ç‰© & ä¸‹åˆèŒ¶
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">13:30 - 17:30</span>
                    <span class="activity">çºŒé€›æ¢…ç”°åœ°ä¸‹è¡— (Whity)ã€LUCUA æˆ–å‰å¾€ä¸­å´ç”ºå’–å•¡å»³ã€‚</span>
                    <div class="note">ğŸ’¡ å› å–æ¶ˆå…¶ä»–è¡Œç¨‹ï¼Œä¸‹åˆå¯æ‚ é–’é€›è¡—æˆ–æ‰¾é–“å’–å•¡å»³ä¼‘æ¯ã€‚</div>
                </div>
            </div>
            <a href="https://maps.google.com/?q=LUCUA+Osaka" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>

        <div class="card" onclick="toggleMap(this, 'Umeda Sky Building')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">ğŸŒƒ</div>
                    æ¢…ç”°ç©ºä¸­åº­åœ’
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">18:00 - 20:00</span>
                    <span class="activity">æ¬£è³å¤§é˜ªå¤œæ™¯ï¼Œä¸¦æ–¼ç€§è¦‹å°è·¯æˆ–é™„è¿‘æ™šé¤ã€‚</span>
                    <div class="note">â„ï¸ é«˜æ¨“æˆ¶å¤–å±•æœ›å°é¢¨å‹å†·å†½ï¼Œå¿…å‚™ä¿æš–è¡£ç‰©ã€‚</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">20:30</span>
                    <span class="activity">æ­è»Šè¿”å›é£¯åº—ã€‚</span>
                </div>
            </div>
            <a href="https://maps.google.com/?q=Umeda+Sky+Building" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>
    </div>

    <div id="d3" class="content">
        <div class="card" onclick="toggleMap(this, 'Fushimi Inari Taisha')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">â›©ï¸</div>
                    ä¼è¦‹ç¨»è·å¤§ç¤¾
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">09:00 - 11:30</span>
                    <span class="activity">åƒæ‹œåƒæœ¬é³¥å±…ã€‚</span>
                    <div class="transport-badge">äº¬é˜ªæœ¬ç·š: äº¬æ©‹ â†’ ä¼è¦‹ç¨»è·</div>
                    <div class="note">ğŸ‘Ÿ éœ€è¡Œèµ°å±±è·¯éšæ¢¯ï¼Œè«‹ç©¿è‘—å¥½èµ°çš„é‹å­ã€‚</div>
                </div>
            </div>
            <a href="https://maps.google.com/?q=Fushimi+Inari+Taisha" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>

        <div class="card" onclick="toggleMap(this, 'Kiyomizu-dera')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">ğŸ‘˜</div>
                    æ¸…æ°´å¯º & äºŒä¸‰å¹´å‚
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">13:00 - 15:30</span>
                    <span class="activity">åƒè§€æ¸…æ°´èˆå°ã€éŸ³ç¾½ç€‘å¸ƒï¼Œæ²¿å‚é“é€›è€è¡—ã€‚</span>
                    <div class="note">âš ï¸ çŸ³æ¿è·¯é¢å®¹æ˜“æ»‘ï¼Œè¡Œèµ°è«‹å°å¿ƒã€‚</div>
                </div>
            </div>
            <a href="https://maps.google.com/?q=Kiyomizu-dera" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>

        <div class="card" onclick="toggleMap(this, 'Gion')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">ğŸ®</div>
                    ç¥‡åœ’ & èŠ±è¦‹å°è·¯
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">15:30 - 19:00</span>
                    <span class="activity">å…«å‚ç¥ç¤¾åƒæ‹œï¼Œæ¼«æ­¥èŠ±è¦‹å°è·¯ï¼Œäº«ç”¨æ™šé¤ã€‚</span>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">20:00 å‰</span>
                    <span class="activity">æ­ä¹˜äº¬é˜ªé›»è»Šè½‰ JR è¿”å›å¤§é˜ªã€‚</span>
                </div>
            </div>
            <a href="https://maps.google.com/?q=Gion" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>
    </div>

    <div id="d4" class="content">
        <div class="card" onclick="toggleMap(this, 'Kobe Kitano Ijinkan-Gai')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">âš“</div>
                    åŒ—é‡ç•°äººé¤¨è¡—
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">09:30 - 12:00</span>
                    <span class="activity">æ¼«æ­¥æ´‹é¢¨å»ºç¯‰ç¾¤ï¼Œæ‹ç…§æ‰“å¡ã€‚</span>
                    <div class="transport-badge">JRç¥æˆ¶ç·š (æ–°å¿«é€Ÿ): å¤§é˜ª â†’ ä¸‰å®®</div>
                    <div class="note">ğŸš¶ æ­¤å€å¡é“è¼ƒå¤šï¼Œå»ºè­°æ”¾æ…¢æ­¥èª¿ã€‚</div>
                </div>
            </div>
            <a href="https://maps.google.com/?q=Kobe+Kitano+Ijinkan-Gai" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>

        <div class="card" onclick="toggleMap(this, 'Nankinmachi')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">ğŸ¥Ÿ</div>
                    å—äº¬ç”º (ä¸­è¯è¡—)
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">15:00 - 16:30</span>
                    <span class="activity">å“åšå°ç± åŒ…ã€è€ç¥¥è¨˜åŒ…å­ç­‰é»å¿ƒã€‚</span>
                </div>
            </div>
            <a href="https://maps.google.com/?q=Nankinmachi" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>

        <div class="card" onclick="toggleMap(this, 'Meriken Park')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">ğŸš¢</div>
                    ç¥æˆ¶æ¸¯ & BE KOBE
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">17:00 - 20:00</span>
                    <span class="activity">Meriken Park æ•£æ­¥ï¼ŒHarborland äº«ç”¨æ™šé¤èˆ‡å¤œæ™¯ã€‚</span>
                    <div class="note">ğŸŒŠ æ¸¯é‚Šæµ·é¢¨å¼·å‹ï¼Œè«‹å‹™å¿…æ³¨æ„ä¿æš–ã€‚</div>
                </div>
            </div>
            <a href="https://maps.google.com/?q=Meriken+Park" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>
    </div>

    <div id="d5" class="content">
        <div class="card" onclick="toggleMap(this, 'Kansai International Airport')">
            <div class="card-header">
                <h3>
                    <div class="location-icon">ğŸ›«</div>
                    æœ€å¾Œæ¡è²· & æ©Ÿå ´
                </h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">09:00 - 11:00</span>
                    <span class="activity">æœ€å¾Œè£œè²¨ (å¿ƒé½‹æ©‹è—¥å¦ / æ¢…ç”°é›»å™¨)ã€‚</span>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">11:30 - 12:30</span>
                    <span class="activity">å‰å¾€é—œè¥¿æ©Ÿå ´ (KIX)ã€‚</span>
                    <div class="transport-badge">JR é—œç©ºå¿«é€Ÿ / HARUKA</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">12:30 - 15:00</span>
                    <span class="activity">Check-inã€å…ç¨…åº—æ¡è³¼ã€ç™»æ©Ÿã€‚</span>
                    <div class="note">âš ï¸ æ¶²é«”/è† ç‹€ç‰©è«‹è£é€æ˜è¢‹ï¼Œæˆ–æ”¾å…¥æ‰˜é‹è¡Œæã€‚</div>
                </div>
            </div>
            <a href="https://maps.google.com/?q=Kansai+International+Airport" target="_blank" class="app-link">åœ¨ Google Maps App ä¸­é–‹å•Ÿ â†—</a>
        </div>
    </div>

    <script>
        function switchTab(dayId, theme) {
            // åˆ‡æ›å…§å®¹
            document.querySelectorAll('.content').forEach(el => el.classList.remove('active'));
            document.getElementById(dayId).classList.add('active');
            
            // åˆ‡æ›æŒ‰éˆ•ç‹€æ…‹
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
            const buttons = document.querySelectorAll('.tab');
            const index = ['d1','d2','d3','d4','d5'].indexOf(dayId);
            if(buttons[index]) buttons[index].classList.add('active');
            
            // åˆ‡æ›ä¸»é¡Œé¡è‰² (å¤§é˜ª/äº¬éƒ½/ç¥æˆ¶)
            document.body.className = ''; // æ¸…é™¤èˆŠ class
            if (theme === 'kyoto') {
                document.body.classList.add('theme-kyoto');
            } else if (theme === 'kobe') {
                document.body.classList.add('theme-kobe');
            } else {
                document.body.classList.add('theme-osaka');
            }

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function toggleMap(cardElement, locationName) {
            // é˜²æ­¢é»æ“Šé€£çµæ™‚è§¸ç™¼å±•é–‹
            if (event.target.tagName.toLowerCase() === 'a') return;

            cardElement.classList.toggle('expanded');
            const wrapper = cardElement.querySelector('.map-wrapper');
            
            if (cardElement.classList.contains('expanded')) {
                // å¦‚æœé‚„æ²’è¼‰å…¥éåœ°åœ–ï¼Œæ‰è¼‰å…¥ iframe
                if (!wrapper.classList.contains('loaded')) {
                    const encodedLoc = encodeURIComponent(locationName);
                    // ä½¿ç”¨ Google Maps Embed API
                    wrapper.innerHTML = `
                        <iframe 
                            class="map-frame" 
                            frameborder="0" 
                            scrolling="no" 
                            marginheight="0" 
                            marginwidth="0" 
                            src="https://maps.google.com/maps?q=${encodedLoc}&t=&z=15&ie=UTF8&iwloc=&output=embed">
                        </iframe>
                    `;
                    // ç¨å¾®å»¶é²é¡¯ç¤ºä»¥ç”¢ç”Ÿæ·¡å…¥æ•ˆæœ
                    setTimeout(() => wrapper.classList.add('loaded'), 100);
                }
                wrapper.style.height = "250px";
            } else {
                wrapper.style.height = "0";
            }
        }
    </script>
</body>
</html>
