<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é—œè¥¿ 5 å¤© 4 å¤œ</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default"> <meta name="apple-mobile-web-app-title" content="é—œè¥¿ä¹‹æ—…">
    <link rel="apple-touch-icon" href="https://img.icons8.com/color/180/torii.png">
    
    <style>
        /* å…¨åŸŸè®Šæ•¸ (äº®è‰²ç³») */
        :root {
            --primary: #FF5E57;
            --text: #333333;      /* æ·±è‰²æ–‡å­— */
            --text-sec: #666666;  /* æ¬¡è¦æ–‡å­— */
            --bg-color: #f0f2f5;  /* æ·ºç°èƒŒæ™¯ */
            --card-bg: rgba(255, 255, 255, 0.85); /* ç™½è‰²æ¯›ç»ç’ƒ */
            --card-border: rgba(255, 255, 255, 0.4);
            --header-bg: rgba(255, 255, 255, 0.7);
            --tab-bg: rgba(0, 0, 0, 0.05);
            --tab-border: rgba(0, 0, 0, 0.08);
            --tab-text: #555555;
            
            /* ä¸»é¡Œå¼·èª¿è‰² */
            --accent-osaka: #FF5252;
            --accent-kyoto: #7E57C2; /* èª¿æ•´ç‚ºè¼ƒæŸ”å’Œçš„ç´« */
            --accent-kobe: #039BE5;  /* èª¿æ•´ç‚ºè¼ƒæ·±é‚ƒçš„è— */
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", sans-serif;
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 0;
            padding-bottom: 60px;
            -webkit-tap-highlight-color: transparent;
            min-height: 100vh;
        }

        /* èƒŒæ™¯åœ–ç‰‡å±¤ (èª¿æ•´æ¿¾é¡ä½¿èƒŒæ™¯æ›´äº®) */
        #bg-layer {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: -1;
            transition: background-image 0.6s ease-in-out, opacity 0.6s ease-in-out;
            opacity: 1;
            /* ç§»é™¤å£“æš—æ¿¾é¡ï¼Œæ”¹ç‚ºè¼•å¾®æ¨¡ç³Šè®“æ–‡å­—æ›´æ¸…æ¥šï¼Œä¿æŒæ˜äº®æ„Ÿ */
            filter: blur(3px); 
            transform: scale(1.02); /* é¿å…æ¨¡ç³Šé‚Šç·£ */
        }
        
        /* é ‚éƒ¨å°èˆª (äº®è‰²æ¯›ç»ç’ƒ) */
        .header {
            background: var(--header-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            padding-top: env(safe-area-inset-top);
        }

        .title-bar {
            padding: 15px;
            text-align: center;
            font-weight: 800;
            font-size: 18px;
            color: var(--text);
            /* ç§»é™¤æ–‡å­—é™°å½±ï¼Œä½¿ä»‹é¢æ›´ä¹¾æ·¨ */
        }

        .tabs {
            display: flex;
            overflow-x: auto;
            padding: 0 15px 15px 15px;
            scrollbar-width: none;
            gap: 10px;
        }
        .tabs::-webkit-scrollbar { display: none; }

        .tab {
            flex: 0 0 auto;
            padding: 8px 16px;
            border-radius: 20px;
            background: var(--tab-bg);
            font-size: 13px;
            font-weight: 600;
            color: var(--tab-text);
            border: 1px solid var(--tab-border);
            transition: all 0.3s;
            backdrop-filter: blur(5px);
        }

        /* å‹•æ…‹ä¸»é¡Œè‰²æŒ‰éˆ• (æ–‡å­—æ”¹ç‚ºç™½è‰²ä»¥å°æ¯”å¼·èª¿è‰²èƒŒæ™¯) */
        body[data-theme="osaka"] .tab.active { background: var(--accent-osaka); color: white; border-color: transparent; box-shadow: 0 4px 10px rgba(255, 82, 82, 0.3); }
        body[data-theme="kyoto"] .tab.active { background: var(--accent-kyoto); color: white; border-color: transparent; box-shadow: 0 4px 10px rgba(126, 87, 194, 0.3); }
        body[data-theme="kobe"] .tab.active { background: var(--accent-kobe); color: white; border-color: transparent; box-shadow: 0 4px 10px rgba(3, 155, 229, 0.3); }

        /* å…§å®¹å€ */
        .content {
            padding: 20px;
            display: none;
            animation: slideUp 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        .content.active { display: block; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* å¡ç‰‡æ¨£å¼ (äº®è‰²æ¯›ç»ç’ƒ) */
        .card {
            background: var(--card-bg);
            border-radius: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--card-border);
            overflow: hidden;
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            /* æ”¹ç‚ºæŸ”å’Œçš„æ·±è‰²é™°å½± */
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.15);
            transition: transform 0.2s;
        }

        .card-header {
            padding: 18px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0,0,0,0.02);
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .card-header h3 {
            margin: 0;
            font-size: 17px;
            font-weight: 700;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .icon-box {
            width: 32px; height: 32px;
            border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            font-size: 18px;
            background: rgba(0,0,0,0.05);
            color: #333;
        }

        .toggle-icon { color: var(--text-sec); font-size: 12px; transition: 0.3s; }
        .card.expanded .toggle-icon { transform: rotate(180deg); color: var(--text); }

        /* åœ°åœ–å€ */
        .map-wrapper {
            height: 0; overflow: hidden;
            transition: height 0.3s ease;
            background: #e0e0e0; /* æ·ºç°è‰²åœ°åœ–ä½”ä½ç¬¦ */
            position: relative;
        }
        /* åŠ å…¥è¼‰å…¥ä¸­çš„æç¤º */
        .map-wrapper::before {
            content: 'åœ°åœ–è¼‰å…¥ä¸­...';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            color: #999;
            font-size: 14px;
        }
        .map-frame { width: 100%; height: 100%; border: 0; opacity: 0; transition: opacity 0.5s; position: relative; z-index: 1; }
        .map-wrapper.loaded .map-frame { opacity: 1; }

        /* æ™‚é–“è»¸èˆ‡ç´°ç¯€ */
        .details { padding: 5px 20px 20px 20px; }
        
        .timeline-item {
            position: relative;
            padding-left: 20px;
            margin-top: 20px;
            /* èª¿æ•´æ™‚é–“è»¸ç·šé¡è‰² */
            border-left: 2px solid rgba(0,0,0,0.1);
        }

        .timeline-dot {
            position: absolute; left: -6px; top: 0;
            width: 10px; height: 10px;
            border-radius: 50%;
            background: #fff;
            /* èª¿æ•´åœ“é»é™°å½± */
            box-shadow: 0 0 0 3px var(--card-bg);
        }
        
        /* ä¾ä¸»é¡Œè®Šè‰² (åœ“é»æœ¬é«”é¡è‰²) */
        body[data-theme="osaka"] .timeline-dot { background: var(--accent-osaka); }
        body[data-theme="kyoto"] .timeline-dot { background: var(--accent-kyoto); }
        body[data-theme="kobe"] .timeline-dot { background: var(--accent-kobe); }

        .time {
            font-size: 13px; font-weight: 700;
            margin-bottom: 5px; display: block;
            color: var(--text-sec);
        }

        /* ä¾ä¸»é¡Œè®Šè‰² (æ™‚é–“æ–‡å­—é¡è‰²) */
        body[data-theme="osaka"] .time { color: var(--accent-osaka); }
        body[data-theme="kyoto"] .time { color: var(--accent-kyoto); }
        body[data-theme="kobe"] .time { color: var(--accent-kobe); }

        .activity { font-size: 15px; line-height: 1.6; color: var(--text); }

        /* åŠŸèƒ½æŒ‰éˆ• (äº®è‰²ç³») */
        .btn-group {
            margin-top: 12px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .live-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            text-decoration: none;
            transition: 0.2s;
            /* é è¨­æ·ºç°è‰²æŒ‰éˆ• */
            background: #f0f2f5;
            color: var(--text);
            border: 1px solid transparent;
        }
        
        .live-btn:active { background: #e4e6e9; }

        /* äº¤é€šæŒ‰éˆ•æ¨£å¼ (äº®è‰²å¼·èª¿) */
        .live-btn.train {
            background: #E3F2FD; /* æ·ºè— */
            color: #1565C0;       /* æ·±è—å­— */
        }
        .live-btn.walk {
            background: #E8F5E9; /* æ·ºç¶  */
            color: #2E7D32;       /* æ·±ç¶ å­— */
        }

        .note {
            margin-top: 12px;
            font-size: 14px;
            color: var(--text-sec);
            /* äº®é»ƒè‰²èƒŒæ™¯æç¤º */
            background: #FFFDE7; 
            padding: 12px;
            border-radius: 12px;
            border-left: 4px solid #FFD600;
            line-height: 1.5;
        }

    </style>
</head>
<body data-theme="osaka">

    <div id="bg-layer" style="background-image: url('https://images.unsplash.com/photo-1590559899731-a3828395a229?q=80&w=2070&auto=format&fit=crop');"></div>

    <div class="header">
        <div class="title-bar">
            <span>ğŸ‡¯ğŸ‡µ é—œè¥¿ä¹‹æ—…</span>
        </div>
        <div class="tabs">
            <button class="tab active" onclick="switchTab('d1', 'osaka')">D1 å¤§é˜ª</button>
            <button class="tab" onclick="switchTab('d2', 'osaka')">D2 æ¢…ç”°</button>
            <button class="tab" onclick="switchTab('d3', 'kyoto')">D3 äº¬éƒ½</button>
            <button class="tab" onclick="switchTab('d4', 'kobe')">D4 ç¥æˆ¶</button>
            <button class="tab" onclick="switchTab('d5', 'osaka')">D5 å›ç¨‹</button>
        </div>
    </div>

    <div id="d1" class="content active">
        <div class="card" onclick="toggleMap(this, 'Kansai International Airport')">
            <div class="card-header">
                <h3><div class="icon-box">âœˆï¸</div> æŠµé”èˆ‡ç§»å‹•</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">09:30 - 11:30</span>
                    [cite_start]<span class="activity">æŠµé” KIX [cite: 3][cite_start]ï¼Œå…¥å¢ƒã€é ˜è¡Œæã€éæµ·é—œ [cite: 4][cite_start]ã€‚æ–¼æ©Ÿå ´è³¼è²· ICOCA å¡ [cite: 6][cite_start]ï¼Œå¯ç°¡å–®åƒè¼•é£Ÿ [cite: 7]ã€‚</span>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">11:30 - 12:40</span>
                    [cite_start]<span class="activity">å‰å¾€æ£®ä¹‹å®®é£¯åº— [cite: 8]ã€‚</span>
                    <div class="btn-group">
                        <a href="https://www.google.com/maps/dir/?api=1&origin=Kansai+International+Airport&destination=Morinomiya+Station&travelmode=transit" target="_blank" class="live-btn train">
                            [cite_start]ğŸšƒ å³æ™‚è»Šæ³ (é—œç©ºå¿«é€Ÿ+ç’°ç‹€ç·š) [cite: 9]
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Osaka Castle Park')">
            <div class="card-header">
                <h3><div class="icon-box">ğŸ¯</div> å¤§é˜ªåŸå…¬åœ’</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">13:30 - 16:00</span>
                    [cite_start]<span class="activity">å¤§é˜ªåŸå…¬åœ’æ•£æ­¥ [cite: 11][cite_start]ã€‚è‹¥ä¸é€²å¤©å®ˆé–£å¯ç•¶ä½œæ•£æ­¥è¡Œç¨‹ [cite: 13]ã€‚</span>
                    [cite_start]<div class="note">âš ï¸ å…¬åœ’é¢¨å¤§å¾ˆå†·ï¼Œè¨˜å¾—å¸¶å¸½å­/åœå·¾ [cite: 32]ã€‚</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Shinsaibashi-Suji Shopping Street')">
            <div class="card-header">
                <h3><div class="icon-box">ğŸ›ï¸</div> å¿ƒé½‹æ©‹ & é“é “å €</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">16:30 - 16:45</span>
                    [cite_start]<span class="activity">ç§»å‹•è‡³å¿ƒé½‹æ©‹ [cite: 15]ã€‚</span>
                    <div class="btn-group">
                        <a href="https://www.google.com/maps/dir/?api=1&origin=Morinomiya+Station&destination=Shinsaibashi+Station&travelmode=transit" target="_blank" class="live-btn train">
                            [cite_start]ğŸš‡ é•·å €é¶´è¦‹ç¶ åœ°ç·š [cite: 16]
                        </a>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">16:45 - 19:30</span>
                    [cite_start]<span class="activity">å¿ƒé½‹æ©‹å•†åº—è¡—(è—¥å¦) [cite: 18][cite_start]ã€ç¾åœ‹æ‘(å¤è‘—)é€›è¡— [cite: 19]ã€‚</span>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">19:30 - 21:30</span>
                    [cite_start]<span class="activity">é“é “å €çœ‹æ ¼åŠ›é«˜è·‘è·‘äºº [cite: 21][cite_start]ï¼Œæ™šé¤åƒç« é­šç‡’ã€æ‹‰éºµç­‰ [cite: 22]ã€‚</span>
                    [cite_start]<div class="note">âš ï¸ äººæ½®å¤šï¼Œæ³¨æ„èƒŒåŒ…æ‹‰éŠ [cite: 33]ã€‚</div>
                </div>
            </div>
        </div>
    </div>

    <div id="d2" class="content">
        <div class="card" onclick="toggleMap(this, 'Osaka Station')">
            <div class="card-header">
                <h3><div class="icon-box">ğŸ™ï¸</div> æ¢…ç”°å•†åœˆ (ä¸Šåˆ)</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">09:20 - 09:40</span>
                    [cite_start]<span class="activity">å‰å¾€æ¢…ç”°(å¤§é˜ªç«™) [cite: 41]ã€‚</span>
                    <div class="btn-group">
                        <a href="https://www.google.com/maps/dir/?api=1&origin=Morinomiya+Station&destination=Osaka+Station&travelmode=transit" target="_blank" class="live-btn train">
                            [cite_start]ğŸšƒ JR å¤§é˜ªç’°ç‹€ç·š [cite: 42]
                        </a>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">09:40 - 12:00</span>
                    [cite_start]<span class="activity">æ¢…ç”°é€›è¡—ï¼šç™¾è²¨æˆ– Yodobashi Camera [cite: 44]ã€‚</span>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">12:00 - 13:30</span>
                    [cite_start]<span class="activity">æ¢…ç”°åƒåˆé¤ [cite: 46]ã€‚</span>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'LUCUA osaka')">
            <div class="card-header">
                <h3><div class="icon-box">â˜•</div> æ¢…ç”°æ·±åº¦éŠ (ä¸‹åˆ)</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">13:30 - 17:30</span>
                    [cite_start]<span class="activity">çºŒé€›æ¢…ç”°åœ°ä¸‹è¡— [cite: 45] æˆ–å‘¨é‚Šå•†å ´ï¼Œäº«å—æ‚ é–’ä¸‹åˆã€‚</span>
                    <div class="note">ğŸ’¡ è¡Œç¨‹èª¿æ•´ï¼šæ™‚é–“å……è£•ï¼Œå¯æ·±åº¦æ¢ç´¢æ¢…ç”°åœ°å€ã€‚</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Umeda Sky Building')">
            <div class="card-header">
                <h3><div class="icon-box">ğŸŒƒ</div> æ¢…ç”°ç©ºä¸­åº­åœ’</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">18:00 - 20:00</span>
                    [cite_start]<span class="activity">æ¢…ç”°ç©ºä¸­åº­åœ’å¤œæ™¯+æ™šé¤ [cite: 60]ã€‚</span>
                    <div class="btn-group">
                        <a href="https://www.google.com/maps/dir/?api=1&origin=Osaka+Station&destination=Umeda+Sky+Building&travelmode=walking" target="_blank" class="live-btn walk">
                            ğŸš¶ æ­¥è¡Œå°èˆª
                        </a>
                    </div>
                    [cite_start]<div class="note">âš ï¸ æˆ¶å¤–å±•æœ›å±¤æœƒå¾ˆå†·ï¼Œä¸€å®šè¦å¸¶å¸½å­ã€åœå·¾ [cite: 75]ã€‚</div>
                </div>
            </div>
        </div>
    </div>

    <div id="d3" class="content">
        <div class="card" onclick="toggleMap(this, 'Fushimi Inari Taisha')">
            <div class="card-header">
                <h3><div class="icon-box">â›©ï¸</div> ä¼è¦‹ç¨»è·å¤§ç¤¾</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">08:00 - 09:00</span>
                    [cite_start]<span class="activity">å‰å¾€ä¼è¦‹ç¨»è· [cite: 81]ã€‚</span>
                    <div class="btn-group">
                        <a href="https://www.google.com/maps/dir/?api=1&origin=Kyobashi+Station+(Osaka)&destination=Fushimi-Inari+Station&travelmode=transit" target="_blank" class="live-btn train">
                            [cite_start]ğŸšƒ äº¬é˜ªæœ¬ç·š (äº¬æ©‹è½‰è»Š) [cite: 83]
                        </a>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">09:00 - 11:30</span>
                    [cite_start]<span class="activity">åƒæ‹œæœ¬æ®¿ [cite: 86][cite_start]ï¼Œèµ°åƒæœ¬é³¥å±… [cite: 87]ã€‚</span>
                    [cite_start]<div class="note">âš ï¸ è¶Šæ—©åˆ°è¶Šå¥½ï¼Œ9é»å‰æœ€èˆ’æœ [cite: 110][cite_start]ã€‚æ˜¯çˆ¬å¡è¡Œç¨‹ï¼Œç©¿å¥½èµ°çš„é‹ [cite: 111]ã€‚</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Kiyomizu-dera')">
            <div class="card-header">
                <h3><div class="icon-box">ğŸ‘˜</div> æ¸…æ°´å¯º & äºŒä¸‰å¹´å‚</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">13:00 - 15:30</span>
                    [cite_start]<span class="activity">é€›æ¸…æ°´èˆå° [cite: 95][cite_start]ã€‚å›ç¨‹æ²¿è‘—äºŒå¹´å‚ã€ä¸‰å¹´å‚é€›è¡— [cite: 96]ã€‚</span>
                    [cite_start]<div class="note">âš ï¸ è·¯é¢æœ‰çŸ³æ¿ï¼Œæœƒæ»‘ï¼Œå°å¿ƒè…³æ­¥ [cite: 112]ã€‚</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Gion District')">
            <div class="card-header">
                <h3><div class="icon-box">ğŸ®</div> ç¥‡åœ’ & å…«å‚ç¥ç¤¾</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">15:30 - 19:00</span>
                    [cite_start]<span class="activity">å…«å‚ç¥ç¤¾åƒæ‹œ [cite: 98][cite_start]ï¼Œèµ°èŠ±è¦‹å°è·¯ [cite: 99][cite_start]ï¼Œæ™šé¤ [cite: 100]ã€‚</span>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">19:00 - 20:00</span>
                    [cite_start]<span class="activity">è¿”å›å¤§é˜ª [cite: 101]ã€‚</span>
                    <div class="btn-group">
                        <a href="https://www.google.com/maps/dir/?api=1&origin=Gion-Shijo+Station&destination=Morinomiya+Station&travelmode=transit" target="_blank" class="live-btn train">
                            [cite_start]ğŸšƒ äº¬é˜ªæœ¬ç·šç‰¹æ€¥ [cite: 102]
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="d4" class="content">
        <div class="card" onclick="toggleMap(this, 'Kobe Kitano Ijinkan-Gai')">
            <div class="card-header">
                <h3><div class="icon-box">âš“</div> åŒ—é‡ç•°äººé¤¨</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">09:00 - 09:30</span>
                    [cite_start]<span class="activity">å‰å¾€ç¥æˆ¶ä¸‰å®® [cite: 119]ã€‚</span>
                    <div class="btn-group">
                        <a href="https://www.google.com/maps/dir/?api=1&origin=Osaka+Station&destination=Sannomiya+Station&travelmode=transit" target="_blank" class="live-btn train">
                            [cite_start]ğŸšƒ JR ç¥æˆ¶ç·šæ–°å¿«é€Ÿ [cite: 120]
                        </a>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">09:30 - 12:00</span>
                    [cite_start]<span class="activity">åŒ—é‡ç•°äººé¤¨å€æ•£æ­¥ [cite: 121][cite_start]ï¼ŒæŒ‘å¹¾æ£Ÿæ´‹é¤¨é€²å» [cite: 123]ã€‚</span>
                    [cite_start]<div class="note">ğŸš¶ å¡é“å¤šï¼Œæ­¥èª¿æ”¾æ…¢ [cite: 150]ã€‚</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Nankinmachi')">
            <div class="card-header">
                <h3><div class="icon-box">ğŸ¥Ÿ</div> å—äº¬ç”º (ä¸­è¯è¡—)</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">15:00 - 16:30</span>
                    [cite_start]<span class="activity">å—äº¬ç”ºåƒå°ç± åŒ…ã€åŒ…å­ç­‰é»å¿ƒ [cite: 132]ã€‚</span>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Meriken Park')">
            <div class="card-header">
                <h3><div class="icon-box">ğŸš¢</div> ç¥æˆ¶æ¸¯å¤œæ™¯</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">17:00 - 20:00</span>
                    [cite_start]<span class="activity">Meriken Park æ‹ã€ŒBE KOBEã€[cite: 136][cite_start]ã€‚Harborland æ™šé¤ [cite: 138]ã€‚</span>
                    [cite_start]<div class="note">â„ï¸ æ¸¯é‚Šé¢¨éå¸¸å†·ï¼Œä¸€å®šè¦æˆ´åœå·¾+å¸½å­ [cite: 152]ã€‚</div>
                </div>
            </div>
        </div>
    </div>

    <div id="d5" class="content">
        <div class="card" onclick="toggleMap(this, 'Kansai International Airport')">
            <div class="card-header">
                <h3><div class="icon-box">ğŸ›«</div> æ©Ÿå ´å›ç¨‹</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">09:00 - 11:00</span>
                    [cite_start]<span class="activity">æœ€å¾Œè³¼ç‰©æ™‚é–“(è—¥å¦/3C) [cite: 160, 161, 162]ã€‚</span>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">11:30 - 12:30</span>
                    [cite_start]<span class="activity">å‰å¾€é—œè¥¿æ©Ÿå ´ [cite: 164]ã€‚</span>
                    <div class="btn-group">
                        <a href="https://www.google.com/maps/dir/?api=1&origin=Tennoji+Station&destination=Kansai+International+Airport&travelmode=transit" target="_blank" class="live-btn train">
                            [cite_start]ğŸšƒ é—œç©ºå¿«é€Ÿ / HARUKA [cite: 165, 166]
                        </a>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <span class="time">12:30 - 15:00</span>
                    [cite_start]<span class="activity">æ©Ÿå ´ Check-inã€é€›å…ç¨…åº—ã€ç™»æ©Ÿ [cite: 167]ã€‚</span>
                    [cite_start]<div class="note">âš ï¸ æ¶²é«”ã€è† ç‹€ç‰©è¨˜å¾—è£åœ¨é€æ˜è¢‹ [cite: 172]ã€‚</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ›´æ–°å¾Œçš„èƒŒæ™¯åœ–ç‰‡ (äº®è‰²ç³»/ç™½å¤©)
        const bgs = {
            // å¤§é˜ªï¼šæ˜äº®çš„å¤§é˜ªåŸå…¬åœ’
            osaka: "https://images.unsplash.com/photo-1590559899731-a3828395a229?q=80&w=2070&auto=format&fit=crop",
            // äº¬éƒ½ï¼šæ¸…æ°´å¯ºèˆ‡è—å¤© (ä¿ç•™åŸåœ–)
            kyoto: "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=2070&auto=format&fit=crop",
            // ç¥æˆ¶ï¼šæ˜äº®çš„æ¸¯å£å…¬åœ’
            kobe: "https://images.unsplash.com/photo-1634225253501-365446721116?q=80&w=1973&auto=format&fit=crop"
        };

        function switchTab(dayId, theme) {
            // 1. åˆ‡æ›å…§å®¹é¡¯ç¤º
            document.querySelectorAll('.content').forEach(el => el.classList.remove('active'));
            document.getElementById(dayId).classList.add('active');
            
            // 2. åˆ‡æ›æŒ‰éˆ•ç‹€æ…‹
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
            const btnIndex = ['d1','d2','d3','d4','d5'].indexOf(dayId);
            if(document.querySelectorAll('.tab')[btnIndex]) {
                document.querySelectorAll('.tab')[btnIndex].classList.add('active');
            }
            
            // 3. åˆ‡æ›ä¸»é¡Œè®Šæ•¸
            document.body.setAttribute('data-theme', theme);

            // 4. åˆ‡æ›èƒŒæ™¯åœ–ç‰‡ (æ·¡å…¥æ·¡å‡ºæ•ˆæœ)
            const bgLayer = document.getElementById('bg-layer');
            const newBgUrl = `url('${bgs[theme]}')`;
            
            // åªæœ‰ç•¶èƒŒæ™¯åœ–çœŸçš„æ”¹è®Šæ™‚æ‰åŸ·è¡Œåˆ‡æ›å‹•ç•«
            if (bgLayer.style.backgroundImage !== newBgUrl) {
                bgLayer.style.opacity = 0; // å…ˆæ·¡å‡º
                setTimeout(() => {
                    bgLayer.style.backgroundImage = newBgUrl;
                    bgLayer.style.opacity = 1; // å†æ·¡å…¥
                }, 300); // ç­‰å¾… CSS transition å®Œæˆ
            }

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function toggleMap(card, locationName) {
            if(event.target.closest('a')) return; // é»æ“Šé€£çµä¸è§¸ç™¼

            card.classList.toggle('expanded');
            const wrapper = card.querySelector('.map-wrapper');
            
            if (card.classList.contains('expanded')) {
                if (!wrapper.classList.contains('loaded')) {
                    const encodedLoc = encodeURIComponent(locationName);
                    // åµŒå…¥ Google Map
                    wrapper.innerHTML = `
                        <iframe 
                            class="map-frame" 
                            src="https://maps.google.com/maps?q=${encodedLoc}&t=&z=15&ie=UTF8&iwloc=&output=embed" 
                            allowfullscreen
                            loading="lazy">
                        </iframe>
                    `;
                    // ç¨å¾®å»¶é²ç§»é™¤è¼‰å…¥æ–‡å­—ï¼Œè®“ iframe æœ‰æ™‚é–“è¼‰å…¥
                    setTimeout(() => wrapper.classList.add('loaded'), 300);
                }
                wrapper.style.height = "250px";
            } else {
                wrapper.style.height = "0";
            }
        }
        
        // é é¢è¼‰å…¥æ™‚è§¸ç™¼ä¸€æ¬¡èƒŒæ™¯è¨­å®šï¼Œç¢ºä¿ç¬¬ä¸€å¼µåœ–æ­£ç¢º
        document.addEventListener('DOMContentLoaded', () => {
            const bgLayer = document.getElementById('bg-layer');
            // é€™è£¡å¼·åˆ¶è¨­å®šç‚ºå¤§é˜ªçš„åœ–ï¼Œèˆ‡ HTML ä¸­çš„ style ä¸€è‡´ï¼Œç¢ºä¿ JS è®Šæ•¸åŒæ­¥
            bgLayer.style.backgroundImage = `url('${bgs.osaka}')`; 
        });
    </script>
</body>
</html>
