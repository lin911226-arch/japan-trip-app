<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é—œè¥¿ 5 å¤© 4 å¤œ</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="æ—¥æœ¬è¡Œ">
    <link rel="apple-touch-icon" href="https://img.icons8.com/color/180/torii.png">
    
    <style>
        :root { --primary: #FF5E57; --bg: #F2F2F7; --card: #FFFFFF; --text: #1C1C1E; --sub: #8E8E93; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: var(--bg); color: var(--text); margin: 0; padding: 0; padding-bottom: 40px; -webkit-tap-highlight-color: transparent; }
        
        /* é ‚éƒ¨å°èˆª */
        .header { background: rgba(255,255,255,0.95); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 100; border-bottom: 1px solid #E5E5EA; padding-top: env(safe-area-inset-top); }
        .title-bar { padding: 12px; text-align: center; font-weight: 700; font-size: 17px; }
        .tabs { display: flex; overflow-x: auto; padding: 0 10px 10px 10px; scrollbar-width: none; }
        .tabs::-webkit-scrollbar { display: none; }
        .tab { flex: 0 0 auto; padding: 8px 16px; margin-right: 8px; border-radius: 18px; background: #E5E5EA; font-size: 14px; font-weight: 600; color: var(--sub); border: none; transition: 0.2s; }
        .tab.active { background: var(--primary); color: white; box-shadow: 0 2px 6px rgba(255, 94, 87, 0.4); }

        /* å…§å®¹å€å¡Š */
        .content { padding: 15px; display: none; animation: fadeIn 0.3s ease; }
        .content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* å¡ç‰‡æ¨£å¼ */
        .card { background: var(--card); border-radius: 16px; margin-bottom: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); overflow: hidden; }
        
        /* å¯é»æ“Šçš„æ¨™é¡Œå€ */
        .card-header { padding: 18px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: background 0.2s; }
        .card-header:active { background: #F2F2F7; }
        .card-header h3 { margin: 0; font-size: 18px; color: var(--primary); display: flex; align-items: center; gap: 8px; }
        .toggle-icon { font-size: 12px; color: #C7C7CC; transition: transform 0.3s; }
        .card.expanded .toggle-icon { transform: rotate(180deg); }

        /* åœ°åœ–å®¹å™¨ */
        .map-wrapper { height: 0; overflow: hidden; transition: height 0.3s ease; background: #f0f0f0; }
        .map-frame { width: 100%; height: 250px; border: 0; display: block; }
        
        /* è¡Œç¨‹ç´°ç¯€ */
        .details { padding: 0 18px 18px 18px; }
        .timeline-item { position: relative; padding-left: 20px; margin-top: 15px; border-left: 2px solid #E5E5EA; }
        .time { font-size: 13px; font-weight: 700; color: var(--primary); display: block; margin-bottom: 4px; }
        .activity { font-size: 15px; line-height: 1.5; }
        .note { margin-top: 6px; font-size: 13px; color: var(--sub); background: #F9F9F9; padding: 8px; border-radius: 8px; }
        .transport { display: inline-block; background: #E3F2FD; color: #007AFF; font-size: 12px; padding: 3px 8px; border-radius: 6px; margin-top: 5px; font-weight: 600; }
        
        /* å¤–éƒ¨é€£çµæŒ‰éˆ• */
        .external-link { display: inline-block; margin-top: 8px; font-size: 12px; color: var(--primary); text-decoration: none; border: 1px solid var(--primary); padding: 4px 10px; border-radius: 15px; }
    </style>
</head>
<body>

    <div class="header">
        <div class="title-bar">ğŸ‡¯ğŸ‡µ é—œè¥¿ä¹‹æ—… (é»æ¨™é¡Œçœ‹åœ°åœ–)</div>
        <div class="tabs" id="tabContainer">
            <button class="tab active" onclick="switchTab('d1')">D1 å¤§é˜ª</button>
            <button class="tab" onclick="switchTab('d2')">D2 å¸‚å€</button>
            <button class="tab" onclick="switchTab('d3')">D3 äº¬éƒ½</button>
            <button class="tab" onclick="switchTab('d4')">D4 ç¥æˆ¶</button>
            <button class="tab" onclick="switchTab('d5')">D5 å›ç¨‹</button>
        </div>
    </div>

    <div id="d1" class="content active">
        <div class="card" onclick="toggleMap(this, 'Kansai International Airport')">
            <div class="card-header">
                <h3>âœˆï¸ é—œè¥¿æ©Ÿå ´èˆ‡ç§»å‹•</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div> <div class="details">
                <div class="timeline-item">
                    <span class="time">09:30 - 12:40</span>
                    [cite_start]<span class="activity">æŠµé” KIXï¼Œè²· ICOCAï¼Œç§»å‹•è‡³æ£®ä¹‹å®® [cite: 3, 4, 6, 8]ã€‚</span>
                    <div class="transport">JR é—œç©ºå¿«é€Ÿ â†’ å¤§é˜ªç’°ç‹€ç·š</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Osaka Castle Park')">
            <div class="card-header">
                <h3>ğŸ¯ å¤§é˜ªåŸå…¬åœ’</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">13:30 - 16:00</span>
                    [cite_start]<span class="activity">å…¬åœ’æ•£æ­¥ï¼Œå¯é¸é€›å¤©å®ˆé–£ [cite: 11, 13]ã€‚</span>
                    [cite_start]<div class="note">âš ï¸ å†¬å¤©é¢¨å†·ï¼Œè«‹å¸¶å¸½å­åœå·¾ [cite: 32]ã€‚</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Shinsaibashi-suji Shopping Street')">
            <div class="card-header">
                <h3>ğŸ›ï¸ å¿ƒé½‹æ©‹ & é“é “å €</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">16:30 - 21:30</span>
                    [cite_start]<span class="activity">å¿ƒé½‹æ©‹è—¥å¦ã€ç¾åœ‹æ‘å¤è‘—ã€é“é “å €è·‘è·‘äººæ™šé¤ [cite: 17, 18, 20, 21]ã€‚</span>
                    [cite_start]<div class="transport">åœ°éµé•·å €é¶´è¦‹ç¶ åœ°ç·š [cite: 16]</div>
                    [cite_start]<div class="note">âš ï¸ äººå¤šæ³¨æ„èƒŒåŒ…æ‹‰éŠ [cite: 33]ã€‚</div>
                </div>
            </div>
        </div>
    </div>

    <div id="d2" class="content">
        <div class="card" onclick="toggleMap(this, 'Osaka Station')">
            <div class="card-header">
                <h3>ğŸ™ï¸ æ¢…ç”° (å¤§é˜ªç«™)</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">09:40 - 12:00</span>
                    [cite_start]<span class="activity">é€›ç™¾è²¨ (é˜ªæ€¥/å¤§ä¸¸) æˆ– Yodobashi [cite: 43, 44]ã€‚</span>
                    [cite_start]<div class="transport">JR å¤§é˜ªç’°ç‹€ç·š [cite: 42]</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Kuromon Ichiba Market')">
            <div class="card-header">
                <h3>ğŸŸ é»‘é–€å¸‚å ´</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">13:30 - 15:00</span>
                    [cite_start]<span class="activity">åƒç”Ÿé­šç‰‡ã€çƒ¤æµ·é®®ã€æ°´æœ [cite: 50, 51]ã€‚</span>
                    [cite_start]<div class="note">âš ï¸ æŒ‘é¸æ–°é®®é£Ÿæï¼Œå‹¿è²ªä¾¿å®œ [cite: 73]ã€‚</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Tsutenkaku')">
            <div class="card-header">
                <h3>ğŸ—¼ æ–°ä¸–ç•Œ & é€šå¤©é–£</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">15:30 - 17:30</span>
                    [cite_start]<span class="activity">é€›æ‡·èˆŠå•†åº—è¡—ã€æ‹é€šå¤©é–£ [cite: 55, 56]ã€‚</span>
                    [cite_start]<div class="note">âš ï¸ æ™šä¸Šè¡—é“è¼ƒçª„ï¼Œæ³¨æ„è²¡ç‰© [cite: 74]ã€‚</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Umeda Sky Building')">
            <div class="card-header">
                <h3>ğŸŒƒ æ¢…ç”°ç©ºä¸­åº­åœ’</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">18:00 - 20:00</span>
                    [cite_start]<span class="activity">çœ‹å¤œæ™¯ + åƒæ™šé¤ [cite: 60]ã€‚</span>
                    [cite_start]<div class="note">âš ï¸ æˆ¶å¤–å±•æœ›å±¤æ¥µå†·ï¼Œå¿…å‚™ä¿æš–è¡£ç‰© [cite: 75]ã€‚</div>
                </div>
            </div>
        </div>
    </div>

    <div id="d3" class="content">
        <div class="card" onclick="toggleMap(this, 'Fushimi Inari Taisha')">
            <div class="card-header">
                <h3>â›©ï¸ ä¼è¦‹ç¨»è·å¤§ç¤¾</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">09:00 - 11:30</span>
                    [cite_start]<span class="activity">èµ°åƒæœ¬é³¥å±… [cite: 85, 87]ã€‚</span>
                    [cite_start]<div class="transport">JRç’°ç‹€ç·š â†’ äº¬é˜ªæœ¬ç·š [cite: 83]</div>
                    [cite_start]<div class="note">âš ï¸ éœ€çˆ¬å¡ï¼Œç©¿å¥½èµ°çš„é‹ [cite: 88]ã€‚</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Kiyomizu-dera')">
            <div class="card-header">
                <h3>ğŸ‘˜ æ¸…æ°´å¯º & äºŒä¸‰å¹´å‚</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">13:00 - 15:30</span>
                    [cite_start]<span class="activity">æ¸…æ°´èˆå°ã€éŸ³ç¾½ç€‘å¸ƒã€é€›è€è¡— [cite: 93, 95, 96]ã€‚</span>
                    [cite_start]<div class="note">âš ï¸ çŸ³æ¿è·¯æ˜“æ»‘ï¼Œå°å¿ƒè…³æ­¥ [cite: 112]ã€‚</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Gion District')">
            <div class="card-header">
                <h3>ğŸ® ç¥‡åœ’ & å…«å‚ç¥ç¤¾</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">15:30 - 20:00</span>
                    [cite_start]<span class="activity">èŠ±è¦‹å°è·¯æ•£æ­¥ã€æ™šé¤ã€å›ç¨‹ [cite: 97, 99]ã€‚</span>
                </div>
            </div>
        </div>
    </div>

    <div id="d4" class="content">
        <div class="card" onclick="toggleMap(this, 'Kobe Kitano Ijinkan-Gai')">
            <div class="card-header">
                <h3>âš“ åŒ—é‡ç•°äººé¤¨</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">09:30 - 12:00</span>
                    [cite_start]<span class="activity">æ´‹é¤¨æ•£æ­¥ [cite: 121]ã€‚</span>
                    [cite_start]<div class="transport">JRç¥æˆ¶ç·š (æ–°å¿«é€Ÿ) [cite: 120]</div>
                    [cite_start]<div class="note">âš ï¸ å¡é“å¤šï¼Œæ­¥èª¿è«‹æ”¾æ…¢ [cite: 150]ã€‚</div>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Nankinmachi')">
            <div class="card-header">
                <h3>ğŸ¥Ÿ å—äº¬ç”º (ä¸­è¯è¡—)</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">15:00 - 16:30</span>
                    [cite_start]<span class="activity">åƒå°ç± åŒ…ã€é»å¿ƒ [cite: 130, 132]ã€‚</span>
                </div>
            </div>
        </div>

        <div class="card" onclick="toggleMap(this, 'Meriken Park')">
            <div class="card-header">
                <h3>ğŸš¢ ç¥æˆ¶æ¸¯ & BE KOBE</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">17:00 - 20:00</span>
                    [cite_start]<span class="activity">Meriken Parkã€Harborland æ™šé¤ [cite: 135, 138]ã€‚</span>
                    [cite_start]<div class="note">âš ï¸ æµ·é¢¨å¼·å‹ï¼Œæ³¨æ„ä¿æš– [cite: 152]ã€‚</div>
                </div>
            </div>
        </div>
    </div>

    <div id="d5" class="content">
        <div class="card" onclick="toggleMap(this, 'Kansai International Airport')">
            <div class="card-header">
                <h3>ğŸ›« é—œè¥¿æ©Ÿå ´ (KIX)</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="map-wrapper"></div>
            <div class="details">
                <div class="timeline-item">
                    <span class="time">11:30 - 15:00</span>
                    [cite_start]<span class="activity">ç§»å‹•è‡³æ©Ÿå ´ã€Check-inã€ç™»æ©Ÿ [cite: 164, 167]ã€‚</span>
                    [cite_start]<div class="transport">JR é—œç©ºå¿«é€Ÿ / HARUKA [cite: 165, 166]</div>
                    [cite_start]<div class="note">âš ï¸ æ¶²é«”è«‹è£é€æ˜è¢‹ï¼Œé ç•™æ™‚é–“æ’éšŠ [cite: 171, 172]ã€‚</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // åˆ‡æ›å¤©æ•¸åˆ†é 
        function switchTab(dayId) {
            document.querySelectorAll('.content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
            document.getElementById(dayId).classList.add('active');
            
            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            const buttons = document.querySelectorAll('.tab');
            const index = ['d1','d2','d3','d4','d5'].indexOf(dayId);
            if(buttons[index]) buttons[index].classList.add('active');
            
            window.scrollTo(0,0);
        }

        // å±•é–‹/æ”¶åˆåœ°åœ–
        function toggleMap(cardElement, locationName) {
            // åˆ‡æ› CSS class ä¾†è™•ç†ç®­é ­æ—‹è½‰
            cardElement.classList.toggle('expanded');
            
            const wrapper = cardElement.querySelector('.map-wrapper');
            
            // å¦‚æœæ˜¯è¦å±•é–‹ï¼Œä¸”è£¡é¢é‚„æ²’æœ‰åœ°åœ–ï¼Œå°±æ’å…¥ iframe
            if (cardElement.classList.contains('expanded')) {
                if (!wrapper.innerHTML) {
                    // ä½¿ç”¨ Google Maps Embed æœå°‹æ¨¡å¼
                    // æ³¨æ„ï¼šé€™æ˜¯ä¸ä½¿ç”¨ API Key çš„ç°¡æ˜“æ¨¡å¼ï¼Œé©åˆå€‹äººä½¿ç”¨ã€‚
                    const encodedLoc = encodeURIComponent(locationName);
                    wrapper.innerHTML = `
                        <iframe 
                            class="map-frame" 
                            frameborder="0" 
                            scrolling="no" 
                            marginheight="0" 
                            marginwidth="0" 
                            src="https://maps.google.com/maps?q=${encodedLoc}&t=&z=15&ie=UTF8&iwloc=&output=embed">
                        </iframe>
                        <div style="text-align:right; padding: 5px 10px; background:#f0f0f0;">
                            <a href="https://www.google.com/maps/search/?api=1&query=${encodedLoc}" target="_blank" class="external-link">é–‹å•Ÿ Google Maps App å°èˆª â†—</a>
                        </div>
                    `;
                }
                wrapper.style.height = "290px"; // è¨­å®šå±•é–‹é«˜åº¦
            } else {
                wrapper.style.height = "0"; // æ”¶åˆ
            }
        }
    </script>
</body>
</html>
